<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${user.name}"></title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</head>
<body>
<div th:replace="~{fragments/layout :: app-nav}"></div>
<div class="container mt-4">
    <div th:replace="~{fragments/layout :: subpage-nav}"></div>
    <form th:action="@{/users/{id}(id=${user.id})}" method="post">
        <div class="d-flex justify-content-between align-items-center my-4">
            <h1 class="h3" th:text="${user.name}"></h1>
            <input class="btn btn-primary ms-auto" type="submit" value="Сохранить">
            <div th:replace="~{fragments/modals :: confirm-delete-modal('/users/' + ${user.id}, true, ${user.id})}"></div>
        </div>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <input type="hidden" name="id" th:value="${user.id}">
        <div class="form-floating mb-3">
            <input class="form-control" type="text" name="login" id="login" th:value="${user.login}">
            <label for="login">Логин</label>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" type="text" name="name" id="name" th:value="${user.name}">
            <label for="login">Имя пользователя</label>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" type="password" name="password" id="password">
            <label for="login">Пароль</label>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" type="password" name="confirmPassword" id="confirmPassword">
            <label for="login">Повторите пароль</label>
        </div>
        <div class="form-floating mb-3">
            <select class="form-select"
                    name="role" id="role">
                <option value="ROLE_USER" th:selected="${user.role.name() == 'ROLE_USER'}">Преподаватель</option>
                <option value="ROLE_SOCIAL" th:selected="${user.role.name() == 'ROLE_SOCIAL'}">Социальный педагог</option>
                <option value="ROLE_ADMIN" th:selected="${user.role.name() == 'ROLE_ADMIN'}">Администратор</option>
            </select>
            <label for="role">Роль</label>
        </div>
    </form>
</div>
</body>
</html>